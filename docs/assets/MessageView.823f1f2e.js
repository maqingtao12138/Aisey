import{r as p,e as m,o as r,c as l,w as g,v,a as i,F as f,g as _,t as c}from"./index.c148732e.js";const y={class:"home"},x={__name:"MessageView",setup(w){const n=p([]),t=m(""),u=prompt("\u8BF7\u8F93\u5165\u6635\u79F0")||"\u6E38\u5BA2",o=new WebSocket(`ws://localhost:9911?username=${u}`);function d(){o.send(JSON.stringify(t.value)),t.value=""}return o.addEventListener("open",a=>{console.log("\u6210\u529F\u94FE\u63A5")}),o.addEventListener("message",a=>{console.log(a.data);const e=JSON.parse(a.data);console.log(e),Array.isArray(e)?n.push(...e):typeof e=="object"&&n.push(e)}),(a,e)=>(r(),l("div",y,[g(i("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.value=s),type:"text"},null,512),[[v,t.value]]),i("button",{onClick:d},"send"),(r(!0),l(f,null,_(n,s=>(r(),l("div",{key:s},c(s.usersName)+":"+c(s.message),1))),128))]))}};export{x as default};
